<Project>
	<Target Name="RestoreNpmAssets">
		<Exec Command="npm install" />
	</Target>

	<Target Name="BeforeBuild">
		<Message Importance="HIGH" Text="$(MSBuildProjectName) IsTest: $(IsTestProject) IsPackable: $(IsPackable)"/>
	</Target>

	<PropertyGroup Label="Conditions">
		<IsTest>false</IsTest>
		<IsTest Condition="$(MSBuildProjectName.ToLowerInvariant().EndsWith('tests')) OR $(MSBuildProjectName.ToLower.Contains('test')) OR $(IsTestProject)">true</IsTest>
	</PropertyGroup>

	<PropertyGroup Condition="$(IsTest)">
		<Nullable>disable</Nullable>
		<IsPackable>false</IsPackable>
		<PackAsTool>false</PackAsTool>
	</PropertyGroup>

	<PropertyGroup Label="Package" Condition="$(IsTest)">
		<PackageId>Kritikos.$(MSBuildProjectName)</PackageId>
	</PropertyGroup>
</Project>
